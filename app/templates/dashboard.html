<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Export Logs - YukMari Project</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body>
    <div class="wrapper d-flex">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <div class="d-flex align-items-center justify-content-between w-100">
                    <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Yukmari Logo" class="img-fluid">
                    <button class="menu-toggle hamburger d-md border-0">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
            <nav>
                <div class="nav flex-column">
                    <a href="#" class="nav-item active" id="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="{{ url_for('main.export') }}" class="nav-item" id="export">
                        <i class="fas fa-file-export"></i>
                        <span>Export logs</span>
                    </a>
                    <a href="{{ url_for('main.importt') }}" class="nav-item" id="import">
                        <i class="fas fa-file-import"></i>
                        <span>Import payload</span>
                    <a href="{{ url_for('main.account_settings') }}" class="nav-item setting" id="setting">
                        <i class="fas fa-gear"></i>
                        <span>Setting</span>
                    </a>
                    </a>
                    <a href="{{ url_for('auth.logout') }}" class="nav-item logout" id="logout">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </div>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="main-content flex-grow-1">
            <div class="container-fluid px-4">

                <div class="content-area">
                    <div class="row d-flex justify-content-center align-items-center">
                        <!-- Pie Chart Card -->
                        <div class="col-md-5">
                            <div class="card shadow">
                                <div class="card-body">
                                    <h5 class="card-title text-center">Log Threats</h5>
                                    <canvas id="logThreatsChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 mt-4">
                        <div class="row g-3">
                            <!-- Total Logs Card -->
                            <div class="col-md-4">
                                <div class="card shadow h-85">
                                    <div class="card-body text-center">
                                        <h5 class="card-title">Total Logs Threats</h5>
                                        <h1 class="display-1 fw-bold">690</h1>
                                    </div>
                                </div>
                            </div>

                            <!-- Severity Distribution Card -->
                            <div class="col-md-8">
                                <div class="card shadow h-85">
                                    <div class="card-body">
                                        <h5 class="card-title text-center">Log Threats </h5>
                                        <p class="text-muted text-center">by Severity</p>
                                        <div class="severity-badges">
                                            <div class="severity-item">
                                                <div class="severity-count">450</div>
                                                <span class="severity-badge bg-info ">Informative</span>
                                            </div>
                                            <div class="severity-item">
                                                <div class="severity-count">100</div>
                                                <span class="severity-badge bg-success">Low</span>
                                            </div>
                                            <div class="severity-item">
                                                <div class="severity-count">70</div>
                                                <span class="severity-badge bg-warning">Medium</span>
                                            </div>
                                            <div class="severity-item">
                                                <div class="severity-count">49</div>
                                                <span class="severity-badge bg-orange">High</span>
                                            </div>
                                            <div class="severity-item">
                                                <div class="severity-count">21</div>
                                                <span class="severity-badge bg-danger">Critical</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const ctx = document.getElementById('logThreatsChart').getContext('2d');
        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Informative', 'Low', 'Medium', 'High', 'Critical'],
                datasets: [{
                    data: [450, 100, 70, 49, 21],
                    backgroundColor: [
                        '#2655CD', // Informative - blue
                        '#00FF26', // Low - green
                        '#FF6E00', // Medium - orange
                        '#FF0C03', // High - red
                        '#D80000'  // Critical - dark red
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: {
                            usePointStyle: true,
                            pointStyle: 'circle',
                            padding: 20,
                            font: {
                                size: 12
                            }
                        }
                    }
                }
            }
        });
    });
    </script>


    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../static/js/dashboard.js"></script>
   
</body>
</html>
